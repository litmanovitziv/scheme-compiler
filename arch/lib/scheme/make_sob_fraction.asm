 MAKE_SOB_FRACTION:
  PUSH(FP);
  MOV(FP, SP);

  PUSH(IMM(3));
  CALL(MALLOC);
  DROP(1);

  MOV(IND(R0), T_FRACTION);
  MOV(INDD(R0, 1), FPARG(0));
  MOV(INDD(R0, 2), FPARG(1));


  POP(FP);
  RETURN;


MAKE_SOB_FRACTION_REDUCT:
  PUSH(FP);
  MOV(FP, SP);
  PUSH(R1);

  MOV(R0, FPARG(0));
  MOV(R1, FPARG(1));
  REM(R0,R1);
  CMP(R0, 0);
  JUMP_NE(NO_REDUCT);
  MOV(R0, FPARG(0));
  DIV(R0,R1);
  PUSH(R0);
  CALL(MAKE_SOB_INTEGER);
  DROP(1);
  PUSH(R0);
  PUSH(IMM(1));
  CALL(MALLOC);
  DROP(1);
  POP(R0);

  JUMP(END_MAKE_SOB_FRACTION_REDUCT);

NO_REDUCT:
  PUSH(FPARG(1));
  PUSH(FPARG(0));
  CALL(MAKE_SOB_FRACTION);
  DROP(2);

END_MAKE_SOB_FRACTION_REDUCT:

  POP(R1);
  POP(FP);
  RETURN;
